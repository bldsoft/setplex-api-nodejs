import t,{AxiosError as s}from"axios";class e{path="/subscriptions";context;constructor(t){this.context=t}get(t,s){return this.context.post(`${this.path}/get`,t||{},s)}getPlans(t,s){return this.context.post(`${this.path}/plans/get`,t||{},s)}}class n{path="/payments";context;constructor(t){this.context=t}payReSubscription(t,s){return this.context.post(`${this.path}/do`,t,s)}paySubscription(t,s){return this.context.post(`${this.path}/doSingle`,t,s)}calculate(t,s){return this.context.post(`${this.path}/calculate`,t,s)}calculateContentSets(t,s){return this.context.post(`${this.path}/content-sets/calculate`,t,s)}payContentSets(t,s){return this.context.post(`${this.path}/content-sets/do`,t,s)}payAdditions(t,s){return this.context.post(`${this.path}/additions/do`,t,s)}calculateAdditions(t,s){return this.context.post(`${this.path}/additions/calculate`,t,s)}}const o="Setplex/External-API-node-SDK 0.0.1 (node "+process.version+"-"+process.arch+")",i={mode:process.env.SETPLEX_API_MODE||"",baseURL:process.env.SETPLEX_API_BASE_URL||"",token:process.env.SETPLEX_API_TOKEN||"",login:process.env.SETPLEX_API_LOGIN||"",headers:{"User-Agent":o}};var r=Object.freeze({__proto__:null,userAgent:o,defaultOptions:i});class a{path="/subscribers";context;constructor(t){this.context=t}get(t,s){return this.context.post(`${this.path}/get`,t,s)}getByEmail(t,s){return this.context.post(`${this.path}/search`,t,s)}info(t,s){return this.context.post(`${this.path}/info`,t,s)}update(t,s){return this.context.post(`${this.path}/update`,t,s)}getSubscriptionContentSets(t,s){return this.context.post(`${this.path}/subscription/content-sets/get`,t,s)}getSubscription(t,s){return this.context.post(`${this.path}/subscription/get`,t,s)}unassignDevice(t,s,e){return this.context.post(`${this.path}/devices/${s}/unassign`,t,e)}cancelSubscription(t,s){return this.context.post(`${this.path}/subscription/cancel`,t,s)}autoPaySubscription(t,s){return this.context.post(`${this.path}/subscription/autopay`,t,s)}getSubscriptionPartnerProducts(t,s){return this.context.post(`${this.path}/subscription/partner-products/get`,t,s)}}const{defaultOptions:{headers:c}}=r,h=t.create({headers:{...c}});class p extends Error{response={status:0};constructor(t){if(Object.prototype.hasOwnProperty.call(t,"name")&&(t.name=""),super(t),this.name=this.constructor.name,t instanceof s){const{response:s}=t;s&&(this.response.status=s.status)}Error.captureStackTrace(this,this.constructor)}}class E{path="/payment-form";context;constructor(t){this.context=t}getAvailable(t,s){return this.context.post(`${this.path}/payment-systems`,t,s)}getOptions(t,s){return this.context.post(`${this.path}/options`,t,s)}addFlow(t,s){return this.context.post(`${this.path}/options/add-flow`,t,s)}checkResult(t,s){return this.context.post(`${this.path}/check`,t,s)}}class u{path="/payment-method";context;constructor(t){this.context=t}get(t,s){return this.context.post(`${this.path}/get`,t,s)}add(t,s){return this.context.post(`${this.path}/add`,t,s)}setDefaultWallet(t,s,e){return this.context.post(`${this.path}/wallet/${s}/default`,t,e)}deleteWallet(t,s,e){return this.context.post(`${this.path}/wallet/${s}/delete`,t,e)}createCreditCard(t,s){return this.context.post("/creditcards/create",t,s)}setDefaultCreditCard(t,s,e){return this.context.post(`${this.path}/creditcard/${s}/default`,t,e)}deleteCreditCard(t,s,e){return this.context.post(`${this.path}/creditcard/${s}/delete`,t,e)}initTrueMoney(t,s){return this.context.post(`${this.path}/wallet/true-money/init`,t,s)}bindTrueMoney(t,s){return this.context.post(`${this.path}/wallet/true-money/bind`,t,s)}}class A{path="/dictionaries";context;constructor(t){this.context=t}getCountries(t,s){return this.context.post(`${this.path}/countries/get`,t||{},s)}getLanguages(t,s){return this.context.post(`${this.path}/languages/get`,t||{},s)}getCurrencies(t,s){return this.context.post(`${this.path}/currencies/get`,t||{},s)}}const{defaultOptions:{token:P,login:d,baseURL:l}}=r;class N{config;logger;subscribers;payments;subscriptions;paymentSystems;paymentMethods;dictionaries;constructor(t){this.config={baseURL:t?.baseURL||l,token:t?.token||P,login:t?.login||d};const s=this.config.token,o=this.config.login;h.interceptors.request.use((function(t){if(Object.prototype.hasOwnProperty.call(t,"data")){const{data:e}=t;t.data={...e,auth:{token:s,login:o,...e.auth}}}else t.data={auth:{token:s,login:o}};return t})),this.subscribers=new a(this),this.payments=new n(this),this.subscriptions=new e(this),this.paymentSystems=new E(this),this.paymentMethods=new u(this),this.dictionaries=new A(this)}send(){return h}async post(t,s,e){try{const n=e?e?.baseURL:null;return(await this.send().post(`${n||this.config.baseURL}${t}`,s,e))?.data}catch(t){throw new p(t)}}async get(t,s){try{const e=s?s?.baseURL:null;return(await this.send().get(`${e||this.config.baseURL}${t}`,s))?.data}catch(t){throw new p(t)}}}var T,I,R,S,x,O,g,C,y,$,_,D;!function(t){t.AUTHORIZE_NET="AUTHORIZE_NET",t.CASH="CASH",t.CHECK="CHECK",t.NEWEBPAY="NEWEBPAY",t.PAYPAL="PAYPAL",t.TELR="TELR",t.EXTERNAL_PAYMENTS="EXTERNAL_PAYMENTS",t.GR4VY_GATEWAY="GR4VY_GATEWAY",t.CCPP="CCPP",t.TRUE_MONEY="TRUE_MONEY"}(T||(T={})),function(t){t.AUTHORIZE_NET_MANUAL="AUTHORIZE_NET_MANUAL",t.WESTERN_UNION="WESTERN_UNION",t.MONEY_GRAM="MONEY_GRAM",t.PAYPAL_EXPRESS="PAYPAL_EXPRESS"}(I||(I={})),function(t){t.RENT="RENT",t.PURCHASE="PURCHASE"}(R||(R={})),function(t){t.ACTIVE="ACTIVE",t.EXPIRED="EXPIRED",t.VOIDED="VOIDED",t.OVERRIDDEN="OVERRIDDEN",t.SKIPPED="SKIPPED",t.ON_HOLD="ON_HOLD",t.PENDING="PENDING"}(S||(S={})),function(t){t.PENDING="PENDING",t.TOA_PENDING="TOA_PENDING",t.ACTIVE="ACTIVE",t.UPCOMING="UPCOMING",t.CANCELLED="CANCELLED",t.VOIDED="VOIDED",t.EXPIRED="EXPIRED"}(x||(x={})),function(t){t.OVERRIDDEN="Overridden",t.SKIPPED="Skipped"}(O||(O={})),function(t){t.GR4VY_GATEWAY="GR4VY_GATEWAY",t.AUTHORIZE_NET="AUTHORIZE_NET",t.CASH="CASH",t.CHECK="CHECK",t.NEWEBPAY="NEWEBPAY",t.PAYPAL="PAYPAL",t.TELR="TELR",t.EXTERNAL_PAYMENTS="EXTERNAL_PAYMENTS",t.CCPP="CCPP",t.TRUE_MONEY="TRUE_MONEY"}(g||(g={})),function(t){t.DAY="DAY",t.MONTH="MONTH",t.YEAR="YEAR"}(C||(C={})),function(t){t.BOX="BOX",t.FEE="FEE",t.SHIPPING="SHIPPING",t.EQUIPMENT="EQUIPMENT"}(y||(y={})),function(t){t.STB="STB",t.PC="PC",t.IOS="iOS",t.ANDROID="Android",t.SAMSUNGTV="SamsungTV",t.OTHERS="Others",t.LG="LG",t.WEB="WEB"}($||($={})),function(t){t.PAID="PAID",t.FREEMIUM="FREEMIUM"}(_||(_={})),function(t){t.iQIYI="iQIYI"}(D||(D={}));export{N as NoraAPI,y as NoraAPIAccessoryTypes,R as NoraAPIAddOnType,I as NoraAPIExternalPaymentSystemTypes,T as NoraAPIPaymentSystemTypes,g as NoraAPIPaymentSystems,S as NoraAPISubscriberPaymentStatuses,p as NoraApiError};
//# sourceMappingURL=index.js.map
